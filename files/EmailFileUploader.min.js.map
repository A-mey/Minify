{"version":3,"file":"EmailFileUploader.js","sources":["EmailFileUploader.js"],"names":["$","fileUploadID","intrAttachmentFiles","FormData","fileNamesArray","arrFileUploadStatus","dataintr","j","UploadedFiles","change","e","ChangeUpload","UploadAttachment","i","key","_attachInfo","status","grep","v","UploadAttachKey","UploadAttachStatus","append","val","angular","element","scope","hdsessionId","filedes","ajax","type","url","contentType","processData","data","success","resdata","respData","JSON","parse","Result","_response","d","when","uploadToConverter","base64String","done","URL","_idx","findIndex","oData","AttachFileKey","oBlobURL","oFormattedFileSize","push","arrUniqueUplodedFiles","entry","isDuplicate","UploadEmailAttachments","EmailReplyIP","MailScreenAction","isDuplicateAttachmentOnForward","UploadEmailAttachmentsForForward","smartTALKNotificationError","console","log","smartTALKNotificationSuccess","error","base64URL","sessionID","file","fileName","substring","lastIndexOf","Fileextn","length","fileUploadResult","stringify","FileName","SessionID","Promise","resolve","reject","oAgentURL","EmailAttachmentBase64","crossDomain","async","failure","bytesToSize","bytes","sizes","parseInt","Math","floor","pow","toFixed","arrTypes","document","getElementById","files","filetype","name","filenametype","filetypematch","IsSameFile","orignalFileSize","size","readableFileSize","split","img","fileimgtype","fileAttachmentSize","indexOf","toLowerCase","_ceSessionID","_fileNameKey","filename","_attachKey","createObjectURL","_data","arr","some","x","AttachSaveName","CESessionId","arry","obj","bcChannel","BroadcastChannel","onmessage","_fileNameFilter","oAttachmentInfo","filter","removeArrayElementByAttr","arrData","arrDisposedEmailAttachments","forEach","item","index"],"mappings":"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"}